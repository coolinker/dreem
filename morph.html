<html>
<head>
  <title>Embedding swf and svg using object component</title>
  <script type="text/javascript" src="/lib/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="/lib/acorn.js"></script>
  <script type="text/javascript" src="/lib/coffee-script.js"></script>
  <script type="text/javascript" src="/lib/assert.js"></script>
  <script type="text/javascript" src="/layout.js"></script>
</head>
<body>

<view id="all" width="${dr.window.width}" height="${dr.window.height}" clip="true">

  <simplelayout axis="y"></simplelayout>
  <labelbutton text="Animate">
    <!-- Scale the object by the specified zoom factor -->
    <method name="scale" args="obj,z">
      obj.animate({width: z * obj.width, height: z * obj.height});
    </method>

    <handler event="onclick">
      if (!this.zoom) this.zoom = 2.0;

      this.scale(view_svg, this.zoom);

      this.zoom = 1.0 / this.zoom;
    </handler>
  </labelbutton>

  <labelbutton text="Morph">
    <handler event="onclick">
      if (!this.next_shape || this.next_shape == 0) {
        this.next_shape = 1
        view_svg.animate_path('roundrect',null,null,{fill: 'red'});
      }
      else {
        this.next_shape = 0
        view_svg.animate_path('circle',null,null,{fill: 'black'});
      }
    </handler>
  </labelbutton>


  <art id="view_svg" data="/images/cursorshapes.svg" type="image/svg+xml" width="100" height="100" clickable="true">
    <handler event="onload">
      this.show_path('circle');      
    </handler>
  </art>

</view>

</body>
</html>
