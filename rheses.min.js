(function(n){var t,e=!1,o=".style",r=n.fn.css;n.fn.css=function(){var t,i,s;return r.apply(this,arguments),e||(t={},i=arguments[0],"object"!=typeof i?t[i]=arguments[1]:t=i,s=this,this.each(function(e,r){var i,a=n.data(r,"sendstyle");if(a)for(i in t)a[i]&&s.trigger(i+o)})),this},t=n.fn.animate,n.fn.animate=function(){var r,i,s=Array.prototype.slice.call(arguments,0);return e||("object"!=typeof s[1]&&(s[1]={duration:s[1],easing:s[2],complete:s[3]},s.length=2),r=s[1].step,i=this,s[1].step=function(t,e){var s,a;r&&r.call(this,arguments),s=e.prop,a=n.data(this,"sendstyle"),a&&a[s]&&i.trigger(s+o)}),t.apply(this,s)},n.fn.bindStyle=function(t,e){var r=this;return this.each(function(){var i=n.data(this,"sendstyle");i||(i=n.data(this,"sendstyle",{})),i[t]=!0,r.on(t+o,e)})},n.fn.unbindStyle=function(n,t){t||(t=""),t+=o;var e=this;return this.each(function(){e.off(t,n)})}})(jQuery),Mouse=function(n){var t=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(n){setTimeout(n,17)},e=0,o=0,r=null,i=!1,s=null,a=function(){r&&t(a),i&&(i=!1,s.trigger("move"))},u=function(n){e=n.pageX,o=n.pageY,i=!0},c=n(document),f=function(){r||(null===r&&(s=l.selector=n(Mouse)),r=!0,t(a),c.on("mousemove",u),c.one("mouseout",p))},p=function(){r&&(r=!1,c.off("mousemove",u),c.one("mouseover",f))},d=function(){return{top:o,left:e}},l={start:f,stop:p,position:d,offset:d};return l}(jQuery);var rheses=function(n){var t,e,o,r,i,s,a,u,c,f,p,d=!1,l=".rheses",h={top:"position().top",left:"position().left",width:"width()",height:"height()",parent:"parent()"},m={scope:"this"};return m.process=function(n){var t=function(n){for(;n.object&&"MemberExpression"===n.object.type;)n=n.object;return n.object||n},e=function(n,e){var o=t(n),r=o.name;e&&(o.name="$("+e+")","this"===e&&(o.name+="."+r))};this.scope="this",acorn.walkDown(n,this),e(n,this.scope)},m.Identifier=function(n){var t,e=n.name;e in h?n.name=h[e]:e in window&&(t=window[e],m.scope=t instanceof HTMLElement?"'#"+e+"'":t===window||t===document?e:null)},m.ThisExpression=function(n){n.type="Identifier",n.name="$(this)",m.scope=null},t={},t.MemberExpression=function(n){return m.process(n),!0},e={},e.MemberExpression=function(n){if("function"==typeof window[n.object.name])return!0;var t=n.property.name;return n=n.object,m.process(n),e.foundScopes.push({scope:acorn.stringify(n),propname:t}),!0},findScopes=function(n){var t=acorn.parse(n);return e.foundScopes=[],acorn.walkDown(t,e),e.foundScopes},o=function(n){var e;try{e=acorn.parse(n)}catch(o){return console.error("Failed to parse",n,"for",cssprop,"of",el),!1}return acorn.walkDown(e,t),acorn.stringify(e)},r=function(n,t){return Function([],n).bind(t)},i=function(t,e,i){function a(n,t){n+=l,t.on(n,c.update),h.push(t)}var u,c,f,p,h,m;return parsedExpression=o(i),u=n.data(t,"constraints")||{},n.data(t,"constraints",u),u[e]&&s(t,e),u[e]||(u[e]={scopes:[]}),c=u[e],f=n(t),p=r("return "+parsedExpression,f),c.update=function(){return d?void 0:(f.css(e,p()),!1)},h=c.scopes,m={},findScopes(i).forEach(function(o){var s,u,p,d=o.scope,l=o.propname,v=d+"."+l;if(!m[v]&&(s=r("return "+d,f)(),0!==s.length)){if(s.length>1&&console.warn('"'+d+'" may have an error. Found multiple scopes, only using the first in: ',s),u=s&&s[0],u===t&&l===e)return console.warn('Not binding: expression "'+i+'" may have an error binding to own property',e,"on element",t),void 0;m[v]=!0,p=u&&(u===window||"body"===u.localName),!p||"width"!==l&&"height"!==l?s===Mouse&&(Mouse.start(),a("move",Mouse.selector)):a("resize",n(window)),u instanceof HTMLElement&&(s.bindStyle(l,c.update),h.push(s))}}),c.update(),this},s=function(t,e){var o,r,i,s,a,u,c=n.data(t,"constraints");if(c){for(o=c&&c[e],r=o.update,i=o.scopes,s=0,a=i.length;a>s;s++)u=i[s],u.unbindStyle(r).off(l,r);delete c[e]}},a="[r-style]",u=function(t,e){return t=t||a,n(t).each(function(t,o){var r,i;if(void 0===e){if(r=n.data(o,"constraints"))for(i in r)s(o,i)}else s(o,e)}),this},c=function(t){return t=t||a,n(t).each(function(n,t){var e=t.getAttribute("r-style"),o=e.split(";");o.forEach(function(n){var e,o,r;n&&(e=n.indexOf(":"),o=n.substr(0,e).replace(/ /g,""),r=n.substr(e+1),i(t,o,r))})}),this},f=function(t){return t=t||a,n(t).each(function(t,e){var o,r=n.data(e,"constraints");if(!r)return!1;for(o in r)r[o].update()}),this},p=function(n){return d=!n,n&&f(),this},n(window).on("load",function(){c()}),{applyConstraint:i,unbindConstraints:u,bindConstraints:c,setEnabled:p,updateConstraints:f}}(jQuery);